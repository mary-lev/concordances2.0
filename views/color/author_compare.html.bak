{{response.files.append(URL(r=request,c='static',f='/js/d3.js'))}}

{{response.files.append(URL('static', 'js/d3pie.min.js'))}}
{{response.files.append(URL('static', 'js/d3pie.js'))}}
{{extend 'layout.html'}}

<table>
    <tr><td>{{=DIV(_id="pieChart")}}</td>
    <td>{{=DIV(_id="pieChart2")}}</td></tr>
    <tr><td><center>Общее количество слов: {{=all_colours}}, {{=colours}}</center></td><td><center>Общее количество слов: {{=all_colours2}}, {{=colours2}}</center></td></tr>
    </table>

<script>
    var pie = new d3pie("pieChart", {
	"header": {
		"title": {
            "text": "{{=author1}}",
			"fontSize": 24,
			"font": "open sans"
		},
		"subtitle": {
            "text": "{{=author1}}",
			"color": "#999999",
			"fontSize": 12,
			"font": "open sans"
		},
		"titleSubtitlePadding": 9
	},
	"footer": {
		"color": "#999999",
		"fontSize": 10,
		"font": "open sans",
		"location": "bottom-left"
	},
	"size": {
		"canvasWidth": 590
	},
	"data": {

		"content": [
            {
				"label": "Красный",
				"value": {{=colours[3]}},
				"color": "#cb2121"
			},
            {
				"label": "Розовый",
				"value": {{=colours[9]}},
				"color": "#ff69b4"
			},
                        {
				"label": "Алый",
				"value": {{=colours[15]}},
				"color": "#ff69b4"
			},
			{
				"label": "Желтый",
				"value": {{=colours[5]}},
				"color": "#FFF44F"
			},
                        {
				"label": "Жолтый",
				"value": {{=colours[13]}},
				"color": "#FFF44F"
			},
                        {
				"label": "Золотой",
            "value": {{=colours[1]}},
				"color": "#F7D358"
			},
                          {
				"label": "Золотистый",
            "value": {{=colours[18]}},
				"color": "#F7D358"
			},
                         {
				"label": "Златой",
            "value": {{=colours[21]}},
				"color": "#F7D358"
			},
                        {
				"label": "Рыжий",
            "value": {{=colours[19]}},
				"color": "#F7D358"
			},
			{
				"label": "Зеленый",
                "value": {{=colours[0]}},
				"color": "#4daa4b"
			},
                        {
				"label": "Бирюзовый",
				"value": {{=colours[22]}},
				"color": "#00FFFF"
			},
                        {
				"label": "Бирюза",
				"value": {{=colours[24]}},
				"color": "#00FFFF"
			},
             {
				"label": "Лазурный",
				"value": {{=colours[14]}},
				"color": "#00FFFF"
			},
                         {
				"label": "Лазурь",
				"value": {{=colours[23]}},
				"color": "#00FFFF"
			},
                        {
				"label": "Лазоревый",
				"value": {{=colours[16]}},
				"color": "#00FFFF"
			},
            {
				"label": "Голубой",
				"value": {{=colours[2]}},
				"color": "#0080FF"
			},
                        {
				"label": "Голубоватый",
				"value": {{=colours[20]}},
				"color": "#0080FF"
			},
			{
				"label": "Синий",
				"value": {{=colours[8]}},
				"color": "#0000FF"
			},
                        {
				"label": "Синева",
				"value": {{=colours[17]}},
				"color": "#0000FF"
			},
                        {
				"label": "Пурпурный",
				"value": {{=colours[10]}},
				"color": "#800080"
			},
                         {
				"label": "Пурпуровый",
				"value": {{=colours[25]}},
				"color": "#800080"
			},
			{
				"label": "Фиолетовый",
				"value": {{=colours[11]}},
				"color": "#9F00FF"
			},
			{
				"label": "Коричневый",
				"value": {{=colours[7]}},
				"color": "#6B420F"
			},
			{
				"label": "Серый",
				"value": {{=colours[12]}},
				"color": "#7C7474"
			},
                        {
				"label": "Черный",
				"value": {{=colours[6]}},
				"color": "#000000"
			},
                        {
				"label": "Белый",
				"value": {{=colours[4]}},
				"color": "#FFFFFF"
			}
		]
	},
	"labels": {
		"outer": {
			"pieDistance": 32
		},
		"inner": {
			"hideWhenLessThanPercentage": 3
		},
		"mainLabel": {
			"fontSize": 11
		},
		"percentage": {
			"color": "#ffffff",
			"decimalPlaces": 0
		},
		"value": {
			"color": "#adadad",
			"fontSize": 11
		},
		"lines": {
			"enabled": true
		}
	},
	"effects": {
		"pullOutSegmentOnClick": {
			"effect": "linear",
			"speed": 400,
			"size": 8
		}
	},
	"misc": {
		"gradient": {
			"enabled": true,
			"percentage": 100
		}
	}
});
</script>


<script>
    var pie = new d3pie("pieChart2", {
	"header": {
		"title": {
            "text": "{{=author2}}",
			"fontSize": 24,
			"font": "open sans"
		},
		"subtitle": {
            "text": "{{=author2}}",
			"color": "#999999",
			"fontSize": 12,
			"font": "open sans"
		},
		"titleSubtitlePadding": 9
	},
	"footer": {
		"color": "#999999",
		"fontSize": 10,
		"font": "open sans",
		"location": "bottom-left"
	},
	"size": {
		"canvasWidth": 590
	},
	"data": {

		"content": [
            {
				"label": "Красный",
				"value": {{=colours2[3]}},
				"color": "#cb2121"
			},
            {
				"label": "Розовый",
				"value": {{=colours2[9]}},
				"color": "#ff69b4"
			},
                        {
				"label": "Алый",
				"value": {{=colours2[15]}},
				"color": "#ff69b4"
			},
			{
				"label": "Желтый",
				"value": {{=colours2[5]}},
				"color": "#FFF44F"
			},
                        {
				"label": "Жолтый",
				"value": {{=colours2[13]}},
				"color": "#FFF44F"
			},
                        {
				"label": "Золотой",
            "value": {{=colours2[1]}},
				"color": "#F7D358"
			},
                          {
				"label": "Золотистый",
            "value": {{=colours2[18]}},
				"color": "#F7D358"
			},
                         {
				"label": "Златой",
            "value": {{=colours2[21]}},
				"color": "#F7D358"
			},
                        {
				"label": "Рыжий",
            "value": {{=colours2[19]}},
				"color": "#F7D358"
			},
			{
				"label": "Зеленый",
                "value": {{=colours2[0]}},
				"color": "#4daa4b"
			},
                        {
				"label": "Бирюзовый",
				"value": {{=colours2[22]}},
				"color": "#00FFFF"
			},
                        {
				"label": "Бирюза",
				"value": {{=colours2[24]}},
				"color": "#00FFFF"
			},
              {
				"label": "Лазурный",
				"value": {{=colours2[14]}},
				"color": "#00FFFF"
			},
                         {
				"label": "Лазурь",
				"value": {{=colours2[23]}},
				"color": "#00FFFF"
			},
                        {
				"label": "Лазоревый",
				"value": {{=colours2[16]}},
				"color": "#00FFFF"
			},
            {
				"label": "Голубой",
				"value": {{=colours2[2]}},
				"color": "#0080FF"
			},
                        {
				"label": "Голубоватый",
				"value": {{=colours2[20]}},
				"color": "#0080FF"
			},
			{
				"label": "Синий",
				"value": {{=colours2[8]}},
				"color": "#0000FF"
			},
                        {
				"label": "Синева",
				"value": {{=colours2[17]}},
				"color": "#0000FF"
			},
                        {
				"label": "Пурпурный",
				"value": {{=colours2[10]}},
				"color": "#800080"
			},
                         {
				"label": "Пурпуровый",
				"value": {{=colours2[25]}},
				"color": "#800080"
			},
			{
				"label": "Фиолетовый",
				"value": {{=colours2[11]}},
				"color": "#9F00FF"
			},
			{
				"label": "Коричневый",
				"value": {{=colours2[7]}},
				"color": "#6B420F"
			},
			{
				"label": "Серый",
				"value": {{=colours2[12]}},
				"color": "#7C7474"
			},
                        {
				"label": "Черный",
				"value": {{=colours2[6]}},
				"color": "#000000"
			},
                        {
				"label": "Белый",
				"value": {{=colours2[4]}},
				"color": "#FFFFFF"
			}
		]
	},
	"labels": {
		"outer": {
			"pieDistance": 32
		},
		"inner": {
			"hideWhenLessThanPercentage": 3
		},
		"mainLabel": {
			"fontSize": 11
		},
		"percentage": {
			"color": "#ffffff",
			"decimalPlaces": 0
		},
		"value": {
			"color": "#adadad",
			"fontSize": 11
		},
		"lines": {
			"enabled": true
		}
	},
	"effects": {
		"pullOutSegmentOnClick": {
			"effect": "linear",
			"speed": 400,
			"size": 8
		}
	},
	"misc": {
		"gradient": {
			"enabled": true,
			"percentage": 100
		}
	}
});
</script>
