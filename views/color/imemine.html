{{response.files.append(URL(r=request,c='static',f='/js/d3.js'))}}

{{response.files.append(URL('static', 'js/d3pie.min.js'))}}
{{response.files.append(URL('static', 'js/d3pie.js'))}}
{{extend 'layout.html'}}
<h1>{{=author}}</h1>
{{=DIV(_id="pieChart")}}
{{=all_mine}}

<script>
    var pie = new d3pie("pieChart", {
	"header": {
		"title": {
			"text": "I, me, mine",
			"fontSize": 24,
			"font": "open sans"
		},
		"subtitle": {
			"text": "я и ты",
			"color": "#999999",
			"fontSize": 12,
			"font": "open sans"
		},
		"titleSubtitlePadding": 9
	},
	"footer": {
		"color": "#999999",
		"fontSize": 10,
		"font": "open sans",
		"location": "bottom-left"
	},
	"size": {
		"canvasWidth": 590
	},
	"data": {

		"content": [
            {
				"label": "Я",
				"value": {{=all_mine[0]}},
				"color": "#cb2121"
			},
                {
				"label": "себя",
				"value": {{=all_mine[3]}},
				"color": "#cb2121"
			},
            {
				"label": "мой",
				"value": {{=all_mine[1]}},
				"color": "#cb2121"
			},
                  
			{
				"label": "мы",
				"value": {{=all_mine[2]}},
				"color": "#4daa4b"
			},
                        {
				"label": "ты",
            "value": {{=all_mine[4]}},
				"color": "#F7D358"
			},
                   
                         {
				"label": "твой",
            "value": {{=all_mine[5]}},
				"color": "#F7D358"
			},
                        {
				"label": "он",
            "value": {{=all_mine[6]}},
				"color": "#00FFFF"
			},
			{
				"label": "она",
                "value": {{=all_mine[7]}},
				"color": "#00FFFF"
			},
                        {
				"label": "они",
				"value": {{=all_mine[8]}},
				"color": "#00FFFF"
			}
		]
	},
	"labels": {
		"outer": {
			"pieDistance": 32
		},
		"inner": {
			"hideWhenLessThanPercentage": 3
		},
		"mainLabel": {
			"fontSize": 11
		},
		"percentage": {
			"color": "#ffffff",
			"decimalPlaces": 0
		},
		"value": {
			"color": "#adadad",
			"fontSize": 11
		},
		"lines": {
			"enabled": true
		}
	},
	"effects": {
		"pullOutSegmentOnClick": {
			"effect": "linear",
			"speed": 400,
			"size": 8
		}
	},
	"misc": {
		"gradient": {
			"enabled": true,
			"percentage": 100
		}
	}
});
</script>
