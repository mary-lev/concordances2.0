text = DAL("sqlite://storage.sqlite")

text.define_table('author',
                  Field('name', label="Имя"),
                  Field('surname', label="Отчество"),
                  Field('family', label="Фамилия"),
                  Field('year_birth', label="Год рождения"),
                  Field('year_death', label="Год смерти"),
                  Field('gender', label="Пол"),
                  Field('birth_location', label="Место рождения"),
                  Field('death_location', label="Место смерти"),
                  migrate=False,fake_migrate=True)

text.define_table('group_text',
                  Field('title', label="Название"),
                  Field('author', text.author),
                  Field('v', label="Объем текста"),
                  Field('genre', label="Жанр"),
                  Field('dedication', label = 'Посвящение'),
                  Field('epigraph', label="Эпиграф"),
                  Field('epigraph_text_name', label="Источник эпиграфа"),
                  Field('year', label="Год написания"),
                  Field('superpgroup', label="Группа текстов"),
                  migrate=False,fake_migrate=True)

text.define_table('text',
                  Field('title', label="Название"),
                  Field('body', 'text', label="Текст"),
                  Field('filename', 'string'),
                  Field('year_writing', label="Год написания"),
                  Field('month_writing', label="Месяц написания"),
                  Field('season_writing', label="Сезон"),
                  Field('day_writing', label="День написания"),
                  Field('writing_location', label="Место написания"),
                  Field('year_publishing', label="Год первой публикации"),
                  Field('genre', label="Жанр"),
                  Field('under_title', label="Подзаголовок"),
                  Field('dedication', label="Посвящение"),
                  Field('epigraph', label="Текст эпиграфа"),
                  Field('epigraph_author', label="Автор эпиграфа"),
                  Field('epigraph_text_name', label="Источник эпиграфа"),
                  Field('v', label="Объем текста"),
                  Field('book', label="Источник текста"),
                  Field('group_text', text.group_text, label="Принадлежность к группе текстов"),
                  Field('n_in_group', label="Порядковый номер в группе текстов"),
                  Field('author', text.author, label="Номер автора"),
                  migrate=False,fake_migrate=True)

text.define_table('words',
                  Field('word', label="Слово"),
                  Field('lemma'),
                  Field('title', text.text, label="Текст"),
                  Field('partos', label="Часть речи"),
                  Field('tense', label="Время"),
                  Field('text_location', label="Место в тексте"),
                  Field('lexical_group', label="Лексическая группа"),
                  Field('concordance_number', label="Номер в конкордансе"),
                  Field('author', label="Автор"),
                  migrate=False,fake_migrate=True)

text.define_table('concordance',
                  Field('word', label="Слово"),
                  Field('partos', label="Часть речи"),
                  Field('lexical', label="Лексическая группа"),
                  migrate=False,fake_migrate=True)

text.define_table('data',
                  Field('author', text.author),
                  Field('book', text.group_text),
                  Field('year', label="Год"),
                  Field('alltexts', label="Количество текстов"),
                  Field('allwords', label="Количество слов"),
                  Field('all_nouns', label="Количество существительных"),
                  Field('all_verbs', label="Количество глаголов"),
                  Field('all_infn', label="Количество инфинитивов"),
                  Field('all_adjf', label="Количество полных прилагательных"),
                  Field('all_adjs', label="Количество кратких прилагательных"),
                  Field('all_grnd', label="Количество деепричастий"),
                  Field('all_prtf', label="Количество полных причастий"),
                  Field('all_prts', label="Количество кратких причастий"),
                  Field('all_advb', label="Количество наречий"),
                  Field('all_prep', label="Количество предлогов"),
                  Field('all_conj', label="Количество союзов"),
                  Field('all_prcl', label="Количество частиц"),
                  Field('all_npro', label="Количество местоимений"),
                  Field('all_point', label="Количество точек"),
                  Field('all_exclam', label="Количество восклицательных знаков"),
                  Field('all_comma', label="Количество запятых"),
                  Field('all_question', label="Количество вопросительных знаков"),
                  Field('length_sentence', label="Средняя длина предложения"),
                  Field('length_words', label="Средняя длина слова"),
                  Field('words_range', label="Насыщенность словаря"),
                  migrate=False,fake_migrate=True)                  )

purchased = (text.author.name==text.text.author)&(text.author.id==text.words.author)
