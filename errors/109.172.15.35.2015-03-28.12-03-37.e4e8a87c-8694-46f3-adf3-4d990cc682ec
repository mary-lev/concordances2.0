(dp1
S'output'
p2
S"<type 'exceptions.TypeError'> doc2bow expects an array of unicode tokens on input, not a single string"
p3
sS'layer'
p4
S'/home/concordance/web2py/applications/test/controllers/concordance.py'
p5
sS'code'
p6
S"# coding: utf8\n# coding: utf8\nimport nltk\nimport pymorphy2\nfrom operator import itemgetter\nimport select\nfrom gensim import corpora, models, similarities\n\ndef index(): # concordance of one text\n    all_words = trymysql(trymysql.allword.title==request.args(0)).select()\n    lens=len(all_words)\n    vocab = []\n    for row in all_words:\n        w = row.word\n        q = trymysql((trymysql.allword.word==row.word)&(trymysql.allword.title==request.args(0))).select()\n        qq = round(((len(q)/float(lens))*100), 2)\n        c = [w, len(q), qq]\n        if c not in vocab:\n            vocab.append(c)\n    vocab.sort(key = itemgetter(0), reverse=False)\n    return dict(lens=lens, vocab=vocab)\n\ndef create_concordance():\n    all_words = trymysql().select(trymysql.allword.ALL)\n    part=['VERB', 'NOUN', 'ADJF', 'ADJS', 'INFN', 'GRND', 'PRTF', 'PRTS', 'ADVB']\n    all1=[all.word for all in all_words if all.partos in part]\n    words=sorted(set(all1))\n    for token in words:\n            trymysql.concordance.insert(word=token)\n    return dict(words=words)\n\ndef create_number():\n    all_texts=trymysql(trymysql.allword.title<10).select()\n    concor=trymysql(trymysql.concordance.id>0).select()\n    words_concordance = [one.word for one in concor]\n    for all in all_texts:\n        if all.word in words_concordance:\n            number = trymysql(trymysql.concordance.word==all.word).select()[0]\n            number_id=number.id\n            all.update_record(concordance_number=number_id)\n        else:\n            all.update_record(concordance_number=0)\n    return dict(words=words_concordance[:10], all_texts=all_texts)\n\ndef create_vector():\n    all_texts=trymysql(trymysql.text1.id<10).select()\n    vector = []\n    for all in all_texts:\n        numbers = [all.concordance_number for all in trymysql(trymysql.allword.title==all.id).select()]\n        vector.append(numbers)\n    return dict(vector=vector)\n\ndef test_gensim():\n    all_texts = trymysql(trymysql.text1.author==4).select()\n    alles = []\n    #for all in all_texts:\n     #   part=['VERB', 'NOUN', 'ADJF', 'ADJS', 'INFN', 'GRND', 'PRTF', 'PRTS', 'ADVB']\n        # one = [all.word for all in trymysql((trymysql.allword.title==all.id)&(trymysql.allword.partos.belongs(part))).select()]\n     #   one = [all.word for all in trymysql((trymysql.allword.title==all.id)&(trymysql.allword.partos=='NOUN')).select()]\n     #   alles.append(one)\n    alles1=[all.word for all in trymysql(trymysql.allword.author==4).select()]\n    dictionary = corpora.Dictionary(alles1)\n    #doc = [new.word for new in trymysql((trymysql.allword.title==24)&(trymysql.allword.partos.belongs(part))).select()]\n    #vec_bow = dictionary.doc2bow(doc)\n    corpus = [dictionary.doc2bow(alle) for alle in alles1]\n    tfidf = models.TfidfModel(corpus, normalize=True)\n    corpus_tfidf = tfidf[corpus]\n    #lsi = models.LsiModel(corpus_tfidf, id2word=dictionary, num_topics=5)\n    #corpus_lsi = lsi[corpus_tfidf]\n    #vec_lsi = lsi[vec_bow]\n    #index = similarities.MatrixSimilarity(lsi[corpus_tfidf])\n    #sims = index[vec_lsi]\n    #sims = sorted(enumerate(sims), key=lambda item: -item[1])\n    #topics=lsi.print_topics(5)\n    return dict(corpus_tfidf=corpus_tfidf, dictionary=dictionary)\n\nresponse._vars=response._caller(test_gensim)\n"
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.TypeError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.TypeError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.TypeError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.TypeError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.TypeError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.TypeError object>'
p23
sS'args'
p24
S"('doc2bow expects an array of unicode tokens on input, not a single string',)"
p25
sS'__reduce__'
p26
S'<built-in method __reduce__ of exceptions.TypeError object>'
p27
sS'__str__'
p28
S"<method-wrapper '__str__' of exceptions.TypeError object>"
p29
sS'__format__'
p30
S'<built-in method __format__ of exceptions.TypeError object>'
p31
sS'__getattribute__'
p32
S"<method-wrapper '__getattribute__' of exceptions.TypeError object>"
p33
sS'__class__'
p34
S"<type 'exceptions.TypeError'>"
p35
sS'__unicode__'
p36
S'<built-in method __unicode__ of exceptions.TypeError object>'
p37
sS'__delattr__'
p38
S"<method-wrapper '__delattr__' of exceptions.TypeError object>"
p39
sS'__subclasshook__'
p40
S'<built-in method __subclasshook__ of type object>'
p41
sS'__repr__'
p42
S"<method-wrapper '__repr__' of exceptions.TypeError object>"
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.TypeError object>'
p47
sS'__doc__'
p48
S"'Inappropriate argument type.'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.TypeError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S'doc2bow expects an array of unicode tokens on input, not a single string'
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S's[^\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>concordance</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>93.185.176.186-5307d37a-6252-4082-a4b4-427f83975220<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_books</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35-81f6382a-d143-45a6-b4f2-445510872b2d<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_test</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35-e4501077-0fc4-4740-b67c-af19a127bbaa<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">DOCUMENT_ROOT</td><td style="vertical-align:top;">:</td><td><div>/usr/local/openresty/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTPS</td><td style="vertical-align:top;">:</td><td><div>on</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>ru,en;q=0.8,en-US;q=0.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CACHE_CONTROL</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>close</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=109.172.15.35-e4501077-0fc4-4740-b67c-af19a127bbaa; session_id_books=109.172.15.35-81f6382a-d143-45a6-b4f2-445510872b2d; __utma=133430031.117798768.1404299048.1426480086.1426498492.23; __utmc=133430031; __utmz=133430031.1404299048.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); _ga=GA1.2.117798768.1404299048; session_id_test=109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57; __utma=134993891.745451564.1404743691.1427534550.1427543417.81; __utmb=134993891.4.10.1427543417; __utmc=134993891; __utmz=134993891.1404743691.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); session_id_admin=93.185.176.186-5307d37a-6252-4082-a4b4-427f83975220</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.101 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_X_FORWARDED_FOR</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_X_REAL_IP</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>10.157.107.232</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>50555</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_URI</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>443</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/concordance/web2py/applications/admin/&#x27;, &#x27;/home/concordance/web2py/applications/test/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_length</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_type</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">document_root</td><td style="vertical-align:top;">:</td><td><div>/usr/local/openresty/nginx/html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>ru,en;q=0.8,en-US;q=0.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cache_control</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>close</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=109.172.15.35-e4501077-0fc4-4740-b67c-af19a127bbaa; session_id_books=109.172.15.35-81f6382a-d143-45a6-b4f2-445510872b2d; __utma=133430031.117798768.1404299048.1426480086.1426498492.23; __utmc=133430031; __utmz=133430031.1404299048.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); _ga=GA1.2.117798768.1404299048; session_id_test=109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57; __utma=134993891.745451564.1404743691.1427534550.1427543417.81; __utmb=134993891.4.10.1427543417; __utmc=134993891; __utmz=134993891.1404743691.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); session_id_admin=93.185.176.186-5307d37a-6252-4082-a4b4-427f83975220</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.101 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_x_forwarded_for</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_x_real_ip</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">https</td><td style="vertical-align:top;">:</td><td><div>on</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>giles-liveweb1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>50.19.109.98</div></td></tr><tr><td><div>localhost</div></td></tr><tr><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>10.157.107.232</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>50555</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>443</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.node</td><td style="vertical-align:top;">:</td><td><div>giles-liveweb1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi.version</td><td style="vertical-align:top;">:</td><td><div>2.0.5.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_node</td><td style="vertical-align:top;">:</td><td><div>giles-liveweb1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uwsgi_version</td><td style="vertical-align:top;">:</td><td><div>2.0.5.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_original_uri</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.5-stable+timestamp.2014.03.16.02.35.39</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7f38419a1e50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0x7f3816041468&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>https</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7f38419a1e50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in function uwsgi_sendfile&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;uwsgi._Input object at 0x7f3816041468&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>https</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py/applications/test/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>test_gensim</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/concordance/web2py/applications/admin/&#x27;, &#x27;/home/concordance/web2py/applications/test/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>giles-liveweb1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>50.19.109.98</div></td></tr><tr><td><div>localhost</div></td></tr><tr><td><div>concordance.pythonanywhere.com</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.5-stable+timestamp.2014.03.16.02.35.39</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 3, 28, 12, 3, 37, 946292)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/test/concordance/test_gensim.html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 3, 28, 12, 3, 37, 946308)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>test/109.172.15.35.2015-03-28.12-03-37.e4e8a87c-8694-46f3-adf3-4d990cc682ec</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x7f38148a6cd0&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/home/concordance/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0x7f381488f7b0, file "/...cations/test/controllers/concordance.py", line 3>'
p69
ssS'lnum'
p70
I220
sS'lines'
p71
(dp72
I224
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p73
sI215
S'    try:'
p74
sI216
S'        if isinstance(code, types.CodeType):'
p75
sI217
S'            ccode = code'
p76
sI218
S'        else:'
p77
sI219
S'            ccode = compile2(code, layer)'
p78
sI220
S'        exec ccode in environment'
p79
sI221
S'    except HTTP:'
p80
sI222
S'        raise'
p81
sI223
S'    except RestrictedError:'
p82
ssS'call'
p83
S"(code='# coding: utf8\\n# coding: utf8\\nimport nltk\\nimport...y)\\n\\nresponse._vars=response._caller(test_gensim)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}, layer='/home/concordance/web2py/applications/test/controllers/concordance.py')"
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/home/concordance/web2py/applications/test/controllers/concordance.py'
p88
sg64
(dp89
sg70
I77
sg71
(dp90
I66
S'    tfidf = models.TfidfModel(corpus, normalize=True)'
p91
sI67
S'    corpus_tfidf = tfidf[corpus]'
p92
sI68
S'    #lsi = models.LsiModel(corpus_tfidf, id2word=dictionary, num_topics=5)'
p93
sI69
S'    #corpus_lsi = lsi[corpus_tfidf]'
p94
sI70
S'    #vec_lsi = lsi[vec_bow]'
p95
sI71
S'    #index = similarities.MatrixSimilarity(lsi[corpus_tfidf])'
p96
sI72
S'    #sims = index[vec_lsi]'
p97
sI73
S'    #sims = sorted(enumerate(sims), key=lambda item: -item[1])'
p98
sI74
S'    #topics=lsi.print_topics(5)'
p99
sI75
S'    return dict(corpus_tfidf=corpus_tfidf, dictionary=dictionary)'
p100
ssg83
S'()'
p101
sg85
S'<module>'
p102
sa(dp103
g62
S'/home/concordance/web2py/gluon/globals.py'
p104
sg64
(dp105
S'self'
p106
S'undefined'
p107
sS'f'
S'<function test_gensim>'
p108
ssg70
I385
sg71
(dp109
I384
S'        self._vars = None'
p110
sI385
S'        self._caller = lambda f: f()'
p111
sI386
S'        self._view_environment = None'
p112
sI387
S'        self._custom_commit = None'
p113
sI388
S'        self._custom_rollback = None'
p114
sI389
S''
sI380
S'        self.menu = []             # used by the default view layout'
p115
sI381
S'        self.files = []            # used by web2py_ajax.html'
p116
sI382
S'        self.generic_patterns = []  # patterns to allow generic views'
p117
sI383
S"        self.delimiters = ('{{', '}}')"
p118
ssg83
S'(f=<function test_gensim>)'
p119
sg85
S'<lambda>'
p120
sa(dp121
g62
S'/home/concordance/web2py/applications/test/controllers/concordance.py'
p122
sg64
(dp123
S'alles1'
p124
S"['\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8', '\\xd0\\xbb\\xd0\\xb5\\xd1\\x81', ',', '\\xd1\\x83\\xd0\\xbd\\xd1\\x8b\\xd0\\xbb\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xb7\\xd0\\xb0\\xd0\\xb1\\xd1\\x80\\xd0\\xbe\\xd1\\x81\\xd0\\xb8\\xd1\\x82\\xd1\\x8c', ',', '\\xd0\\xbf\\xd1\\x83\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd0\\xb0\\xd0\\xb2\\xd0\\xb0\\xd1\\x82\\xd1\\x8c\\xd1\\x81\\xd1\\x8f', '\\xd1\\x85\\xd0\\xbb\\xd0\\xb5\\xd0\\xb1', '\\xd0\\xb2', '\\xd0\\xbf\\xd0\\xbe\\xd0\\xbb\\xd0\\xb5', '\\xd0\\xbd\\xd0\\xb5\\xd1\\x81\\xd0\\xba\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '!', '\\xd0\\xbc\\xd1\\x8b', '\\xd0\\xb6\\xd0\\xb4\\xd0\\xb0\\xd1\\x82\\xd1\\x8c', '\\xd0\\xb3\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xb7\\xd0\\xb2\\xd0\\xb0\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xbf\\xd1\\x80\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', ...]"
p125
sS'global corpora'
p126
S"<module 'gensim.corpora' from '/usr/local/lib/python2.7/dist-packages/gensim/corpora/__init__.pyc'>"
p127
sS'corpora.Dictionary'
p128
S"<class 'gensim.corpora.dictionary.Dictionary'>"
p129
sS'dictionary'
p130
g107
ssg70
I62
sg71
(dp131
I64
S'    #vec_bow = dictionary.doc2bow(doc)'
p132
sI65
S'    corpus = [dictionary.doc2bow(alle) for alle in alles1]'
p133
sI66
S'    tfidf = models.TfidfModel(corpus, normalize=True)'
p134
sI57
S"     #   part=['VERB', 'NOUN', 'ADJF', 'ADJS', 'INFN', 'GRND', 'PRTF', 'PRTS', 'ADVB']"
p135
sI58
S'        # one = [all.word for all in trymysql((trymysql.allword.title==all.id)&(trymysql.allword.partos.belongs(part))).select()]'
p136
sI59
S"     #   one = [all.word for all in trymysql((trymysql.allword.title==all.id)&(trymysql.allword.partos=='NOUN')).select()]"
p137
sI60
S'     #   alles.append(one)'
p138
sI61
S'    alles1=[all.word for all in trymysql(trymysql.allword.author==4).select()]'
p139
sI62
S'    dictionary = corpora.Dictionary(alles1)'
p140
sI63
S'    #doc = [new.word for new in trymysql((trymysql.allword.title==24)&(trymysql.allword.partos.belongs(part))).select()]'
p141
ssg83
S'()'
p142
sg85
S'test_gensim'
p143
sa(dp144
g62
S'/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py'
p145
sg64
(dp146
S'self.add_documents'
p147
S'<bound method Dictionary.add_documents of <gensim.corpora.dictionary.Dictionary object>>'
p148
sS'self'
p149
S'<gensim.corpora.dictionary.Dictionary object>'
p150
sS'documents'
p151
S"['\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8', '\\xd0\\xbb\\xd0\\xb5\\xd1\\x81', ',', '\\xd1\\x83\\xd0\\xbd\\xd1\\x8b\\xd0\\xbb\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xb7\\xd0\\xb0\\xd0\\xb1\\xd1\\x80\\xd0\\xbe\\xd1\\x81\\xd0\\xb8\\xd1\\x82\\xd1\\x8c', ',', '\\xd0\\xbf\\xd1\\x83\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd0\\xb0\\xd0\\xb2\\xd0\\xb0\\xd1\\x82\\xd1\\x8c\\xd1\\x81\\xd1\\x8f', '\\xd1\\x85\\xd0\\xbb\\xd0\\xb5\\xd0\\xb1', '\\xd0\\xb2', '\\xd0\\xbf\\xd0\\xbe\\xd0\\xbb\\xd0\\xb5', '\\xd0\\xbd\\xd0\\xb5\\xd1\\x81\\xd0\\xba\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '!', '\\xd0\\xbc\\xd1\\x8b', '\\xd0\\xb6\\xd0\\xb4\\xd0\\xb0\\xd1\\x82\\xd1\\x8c', '\\xd0\\xb3\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xb7\\xd0\\xb2\\xd0\\xb0\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xbf\\xd1\\x80\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', ...]"
p152
ssg70
I50
sg71
(dp153
I45
S'        self.num_docs = 0 # number of documents processed'
p154
sI46
S'        self.num_pos = 0 # total number of corpus positions'
p155
sI47
S'        self.num_nnz = 0 # total number of non-zeroes in the BOW matrix'
p156
sI48
S''
sI49
S'        if documents is not None:'
p157
sI50
S'            self.add_documents(documents)'
p158
sI51
S''
sI52
S''
sI53
S'    def __getitem__(self, tokenid):'
p159
sI54
S'        if len(self.id2token) != len(self.token2id):'
p160
ssg83
S"(self=<gensim.corpora.dictionary.Dictionary object>, documents=['\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8', '\\xd0\\xbb\\xd0\\xb5\\xd1\\x81', ',', '\\xd1\\x83\\xd0\\xbd\\xd1\\x8b\\xd0\\xbb\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xb7\\xd0\\xb0\\xd0\\xb1\\xd1\\x80\\xd0\\xbe\\xd1\\x81\\xd0\\xb8\\xd1\\x82\\xd1\\x8c', ',', '\\xd0\\xbf\\xd1\\x83\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd0\\xb0\\xd0\\xb2\\xd0\\xb0\\xd1\\x82\\xd1\\x8c\\xd1\\x81\\xd1\\x8f', '\\xd1\\x85\\xd0\\xbb\\xd0\\xb5\\xd0\\xb1', '\\xd0\\xb2', '\\xd0\\xbf\\xd0\\xbe\\xd0\\xbb\\xd0\\xb5', '\\xd0\\xbd\\xd0\\xb5\\xd1\\x81\\xd0\\xba\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '!', '\\xd0\\xbc\\xd1\\x8b', '\\xd0\\xb6\\xd0\\xb4\\xd0\\xb0\\xd1\\x82\\xd1\\x8c', '\\xd0\\xb3\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xb7\\xd0\\xb2\\xd0\\xb0\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xbf\\xd1\\x80\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', ...])"
p161
sg85
g50
sa(dp162
g62
S'/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py'
p163
sg64
(dp164
S'self.doc2bow'
p165
S'<bound method Dictionary.doc2bow of <gensim.corpora.dictionary.Dictionary object>>'
p166
sS'self'
p167
S'<gensim.corpora.dictionary.Dictionary object>'
p168
sS'allow_update'
p169
g107
sS'document'
p170
S"'\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8'"
p171
sS'builtinTrue'
p172
S'True'
p173
sS'_'
g107
ssg70
I112
sg71
(dp174
I107
S'        Dictionary(5 unique tokens)'
p175
sI108
S'        """'
p176
sI109
S'        for docno, document in enumerate(documents):'
p177
sI110
S'            if docno % 10000 == 0:'
p178
sI111
S'                logger.info("adding document #%i to %s" % (docno, self))'
p179
sI112
S'            _ = self.doc2bow(document, allow_update=True) # ignore the result, here we only care about updating token ids'
p180
sI113
S'        logger.info("built %s from %i documents (total %i corpus positions)" %'
p181
sI114
S'                     (self, self.num_docs, self.num_pos))'
p182
sI115
S''
sI116
S''
ssg83
S"(self=<gensim.corpora.dictionary.Dictionary object>, documents=['\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8', '\\xd0\\xbb\\xd0\\xb5\\xd1\\x81', ',', '\\xd1\\x83\\xd0\\xbd\\xd1\\x8b\\xd0\\xbb\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xb7\\xd0\\xb0\\xd0\\xb1\\xd1\\x80\\xd0\\xbe\\xd1\\x81\\xd0\\xb8\\xd1\\x82\\xd1\\x8c', ',', '\\xd0\\xbf\\xd1\\x83\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd0\\xb0\\xd0\\xb2\\xd0\\xb0\\xd1\\x82\\xd1\\x8c\\xd1\\x81\\xd1\\x8f', '\\xd1\\x85\\xd0\\xbb\\xd0\\xb5\\xd0\\xb1', '\\xd0\\xb2', '\\xd0\\xbf\\xd0\\xbe\\xd0\\xbb\\xd0\\xb5', '\\xd0\\xbd\\xd0\\xb5\\xd1\\x81\\xd0\\xba\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '!', '\\xd0\\xbc\\xd1\\x8b', '\\xd0\\xb6\\xd0\\xb4\\xd0\\xb0\\xd1\\x82\\xd1\\x8c', '\\xd0\\xb3\\xd0\\xbe\\xd1\\x81\\xd1\\x82\\xd1\\x8c', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xb7\\xd0\\xb2\\xd0\\xb0\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', '\\xd0\\xb8', '\\xd0\\xbd\\xd0\\xb5\\xd0\\xbf\\xd1\\x80\\xd0\\xbe\\xd1\\x88\\xd0\\xb5\\xd0\\xbd\\xd0\\xbd\\xd1\\x8b\\xd0\\xb9', ...])"
p183
sg85
S'add_documents'
p184
sa(dp185
g62
S'/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py'
p186
sg64
(dp187
S'builtinTypeError'
p188
S"<type 'exceptions.TypeError'>"
p189
ssg70
I135
sg71
(dp190
I130
S'        If `allow_update` is **not** set, this function is `const`, aka read-only.'
p191
sI131
S'        """'
p192
sI132
S'        result = {}'
p193
sI133
S'        missing = {}'
p194
sI134
S'        if isinstance(document, string_types):'
p195
sI135
S'            raise TypeError("doc2bow expects an array of unicode tokens on input, not a single string")'
p196
sI136
S'        document = sorted(utils.to_unicode(token) for token in document)'
p197
sI137
S'        # construct (word, frequency) mapping. in python3 this is done simply'
p198
sI138
S'        # using Counter(), but here i use itertools.groupby() for the job'
p199
sI139
S'        for word_norm, group in itertools.groupby(document):'
p200
ssg83
S"(self=<gensim.corpora.dictionary.Dictionary object>, document='\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8', allow_update=True, return_missing=False)"
p201
sg85
S'doc2bow'
p202
sasS'pyver'
p203
S'Python 2.7.6: /usr/local/bin/uwsgi (prefix: /usr)'
p204
sS'session'
p205
g57
(S's\xc4\x01\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_orderby</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_query</td><td style="vertical-align:top;">:</td><td><div>trymysql.concordance.id&gt;0</div></td></tr></table></div>'
tRp206
sS'etype'
p207
S"<type 'exceptions.TypeError'>"
p208
sS'date'
p209
S'Sat Mar 28 12:04:37 2015'
p210
sS'response'
p211
g57
(S's\x9e\x1e\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x7f381496b848&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_test</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>UA-52567545-1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="brand" href="http://concordances.ru"><b>concor<span>dances</span></b>.ru</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/test/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div><span class="highlighted">web2py</span></div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://concordances.ru</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>\xd0\x9e \xd0\xbf\xd1\x80\xd0\xbe\xd0\xb5\xd0\xba\xd1\x82\xd0\xb5</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/about/test</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>\xd0\x90\xd0\xb4\xd0\xbc\xd0\xb8\xd0\xbd\xd0\xba\xd0\xb0</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/test/controllers/concordance.py</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Maria Levchenko &lt;marylevchenko@gmail.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>\xd0\xa7\xd0\xb0\xd1\x81\xd1\x82\xd0\xbe\xd1\x82\xd0\xbd\xd1\x8b\xd0\xb9 \xd1\x81\xd0\xbb\xd0\xbe\xd0\xb2\xd0\xb0\xd1\x80\xd1\x8c \xd1\x80\xd1\x83\xd1\x81\xd1\x81\xd0\xba\xd0\xbe\xd0\xb9 \xd0\xbb\xd0\xb8\xd1\x82\xd0\xb5\xd1\x80\xd0\xb0\xd1\x82\xd1\x83\xd1\x80\xd1\x8b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div>concordance, natural language processing, critics</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^concordance/\\w+\\.py$</div></td></tr><tr><td><div>^concordance/test_gensim/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;/home/concordance/web2py/applications/test/sessions/109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57&#x27;, mode &#x27;rb+&#x27; at 0x7f3834bf8c00&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/home/concordance/web2py/applications/test/sessions/109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>d2e8163f453a428df960dbeee78e622b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>109.172.15.35-af34a2ce-3806-4b0b-b09d-1a71a0b96d57</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>concordance/test_gensim.html</div></td></tr></table></div>'
tRp212
sS'locals'
p213
(dp214
S'missing'
p215
g45
sS'self'
p216
S'<gensim.corpora.dictionary.Dictionary object>'
p217
sS'return_missing'
p218
S'False'
p219
sS'result'
p220
g45
sS'document'
p221
S"'\\xd1\\x81\\xd1\\x80\\xd0\\xb5\\xd0\\xb4\\xd0\\xb8'"
p222
sS'allow_update'
p223
g173
sssS'traceback'
p224
S'Traceback (most recent call last):\n  File "/home/concordance/web2py/gluon/restricted.py", line 220, in restricted\n    exec ccode in environment\n  File "/home/concordance/web2py/applications/test/controllers/concordance.py", line 77, in <module>\n  File "/home/concordance/web2py/gluon/globals.py", line 385, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/concordance/web2py/applications/test/controllers/concordance.py", line 62, in test_gensim\n    dictionary = corpora.Dictionary(alles1)\n  File "/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py", line 50, in __init__\n    self.add_documents(documents)\n  File "/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py", line 112, in add_documents\n    _ = self.doc2bow(document, allow_update=True) # ignore the result, here we only care about updating token ids\n  File "/usr/local/lib/python2.7/dist-packages/gensim/corpora/dictionary.py", line 135, in doc2bow\n    raise TypeError("doc2bow expects an array of unicode tokens on input, not a single string")\nTypeError: doc2bow expects an array of unicode tokens on input, not a single string\n'
p225
s.